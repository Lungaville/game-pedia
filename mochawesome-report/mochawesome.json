{
  "stats": {
    "suites": 6,
    "tests": 45,
    "passes": 45,
    "pending": 0,
    "failures": 0,
    "start": "2020-05-31T00:45:11.586Z",
    "end": "2020-05-31T00:45:19.339Z",
    "duration": 7753,
    "testsRegistered": 45,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "19d00ed6-ca8a-4a70-afc3-e15c9580cafb",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
          "title": "Testing registration for all user role",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\auth_test.js",
          "file": "\\tests\\auth_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Testing registration for all user role \"before all\" hook",
              "timedOut": false,
              "duration": 1632,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await model.users.destroy({\n    where: {},\n    truncate: true\n  })\n  await model.games.destroy({\n      where: {},\n      truncate: true\n    })\nawait model.users_games.destroy({\n    where: {},\n    truncate: true\n  })\n  await  model.genres.destroy({\n    where: {},\n    truncate: true\n  })\n  await  model.users_reviews.destroy({\n    where: {},\n    truncate: true\n  })\n  await   model.genre_games.destroy({\n    where: {},\n    truncate: true\n  })",
              "err": {},
              "uuid": "7d610fff-6971-4e80-a278-285e822856a8",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Register using basic user with email : basic@gmail.com",
              "fullTitle": "Testing registration for all user role Register using basic user with email : basic@gmail.com",
              "timedOut": false,
              "duration": 222,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.basic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Berhasil melakukan registrasi user','Response message tidak sesuai');\n        expect(response.body.data.email).to.equal( fakeData.user.basic.email,'Email yang diberikan pada response tidak sesuai')\n        expect(response.body.data.tipe).to.equal(fakeData.user.basic.tipe,'Tipe yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "b05d84b2-5f28-48d0-877a-2fffc57e526c",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Register using basic user with email : basic@gmail.com, Duplicate email should fail",
              "fullTitle": "Testing registration for all user role Register using basic user with email : basic@gmail.com, Duplicate email should fail",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.basic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.DUPLICATE)\n    .end(done);",
              "err": {},
              "uuid": "71a877d5-f812-40a2-9ae8-aa34ee5e96d0",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Register using basic pro with email : pro@gmail.com",
              "fullTitle": "Testing registration for all user role Register using basic pro with email : pro@gmail.com",
              "timedOut": false,
              "duration": 492,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.pro)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Berhasil melakukan registrasi user, Silakan membayar pada url yang tertera','Response message tidak sesuai');\n        expect(response.body.data.email).to.equal( fakeData.user.pro.email,'Email yang diberikan pada response tidak sesuai')\n        expect(response.body.data.tipe).to.equal(fakeData.user.pro.tipe,'Tipe yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "9ab90096-0614-48ac-83eb-c1dc91040820",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Register using admin user with email : admin@gmail.com",
              "fullTitle": "Testing registration for all user role Register using admin user with email : admin@gmail.com",
              "timedOut": false,
              "duration": 142,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.admin)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Berhasil melakukan registrasi user','Response message tidak sesuai');\n        expect(response.body.data.email).to.equal( fakeData.user.admin.email,'Email yang diberikan pada response tidak sesuai')\n        expect(response.body.data.tipe).to.equal(fakeData.user.admin.tipe,'Tipe yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "da6d599c-169e-452c-a8cc-048bb41b2159",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Basic User can login",
              "fullTitle": "Testing registration for all user role Basic User can login",
              "timedOut": false,
              "duration": 146,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/login')\n    .send({email : fakeData.user.basic.email, password: fakeData.user.basic.password })\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_GET)\n    .expect(response => {\n        expect(response.body.message).to.equal('Success Login','Response message tidak sesuai');\n        var userLogin = jwt.verify(response.body.token, 'soa2018');\n        expect(userLogin.email).to.equal(fakeData.user.basic.email,'Payload email JWT tidak sesuai')\n        global.tokenBasic = response.body.token;\n        global.userBasic = userLogin;\n    })\n    .end(done);",
              "err": {},
              "uuid": "df4d29b2-191e-4dcf-82d0-48850723a1a2",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Pro User can login",
              "fullTitle": "Testing registration for all user role Pro User can login",
              "timedOut": false,
              "duration": 165,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/login')\n    .send({email : fakeData.user.pro.email, password: fakeData.user.pro.password })\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_GET)\n    .expect(response => {\n        expect(response.body.message).to.equal('Success Login','Response message tidak sesuai');\n        var userLogin = jwt.verify(response.body.token, 'soa2018');\n        expect(userLogin.email).to.equal(fakeData.user.pro.email,'Payload email JWT tidak sesuai')\n        global.tokenPro = response.body.token;\n        global.userPro = userLogin;\n    })\n    .end(done);",
              "err": {},
              "uuid": "b489a8c9-ed66-4acb-91b8-3494e521ac92",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Admin User can login",
              "fullTitle": "Testing registration for all user role Admin User can login",
              "timedOut": false,
              "duration": 132,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/login')\n    .send({email : fakeData.user.admin.email, password: fakeData.user.admin.password })\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_GET)\n    .expect(response => {\n        expect(response.body.message).to.equal('Success Login','Response message tidak sesuai');\n        var userLogin = jwt.verify(response.body.token, 'soa2018');\n        expect(userLogin.email).to.equal(fakeData.user.admin.email,'Payload email JWT tidak sesuai')\n        global.tokenAdmin = response.body.token;\n        global.userAdmin = userLogin;\n    })\n    .end(done);",
              "err": {},
              "uuid": "eac62d35-b704-42a3-b6e7-3b5b6a38d52b",
              "parentUUID": "de6e3344-cbe9-4794-9363-e6f9fbe4362f",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "b05d84b2-5f28-48d0-877a-2fffc57e526c",
            "71a877d5-f812-40a2-9ae8-aa34ee5e96d0",
            "9ab90096-0614-48ac-83eb-c1dc91040820",
            "da6d599c-169e-452c-a8cc-048bb41b2159",
            "df4d29b2-191e-4dcf-82d0-48850723a1a2",
            "b489a8c9-ed66-4acb-91b8-3494e521ac92",
            "eac62d35-b704-42a3-b6e7-3b5b6a38d52b"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1310,
          "root": false,
          "rootEmpty": false,
          "_timeout": 8000
        },
        {
          "uuid": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
          "title": "Genre Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\genre_test.js",
          "file": "\\tests\\genre_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Genre Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "genreName = \"RPG\";\nnewGenreName = \"RPGS\";\ninsertGenreName = \"RPG\";\ntoken = global.tokenPro;",
              "err": {},
              "uuid": "cd22ebc1-3bcd-410d-aab5-88c842507ea4",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Response should be when genre inserted",
              "fullTitle": "Genre Test Response should be when genre inserted",
              "timedOut": false,
              "duration": 66,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/genres')\n    .send({name :genreName,slug : \"rpg\"})\n    .set('Accept', 'application/json')\n    .set('token',token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil ditambahkan')\n        insertedId = response.body.data.id\n        expect(response.body.data.name).to.equal(genreName,'Nama genre yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "def26042-2e85-4975-b201-484cb4b52a0e",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a genre with params",
              "fullTitle": "Genre Test Response should be when get a genre with params",
              "timedOut": false,
              "duration": 2817,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/genres')\n    .set('token',token)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id == insertedId);\n      expect(data.name).to.equal(genreName,'Nama pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "5ee8ace7-77a7-43dd-b80b-eb16e761724b",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a genre with ID",
              "fullTitle": "Genre Test Response should be when get a genre with ID",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/genres/${insertedId}`)\n    .set('token',token)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(genreName,'Nama genre pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "c5e0972e-6b73-4c16-8866-2f90447def93",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when genre updated",
              "fullTitle": "Genre Test Response should be when genre updated",
              "timedOut": false,
              "duration": 98,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/genres/${insertedId}`)\n    .send({name :newGenreName,slug : \"rpg\"})\n    .set('Accept', 'application/json')\n    .set('token',token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil diupdate')\n    })\n    .end(done);",
              "err": {},
              "uuid": "24ad3a22-9e0e-4ddb-85b5-7e7a7a794191",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a genre with ID after updated",
              "fullTitle": "Genre Test Response should be when get a genre with ID after updated",
              "timedOut": false,
              "duration": 15,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/genres/${insertedId}`)\n    .set('token',token)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(newGenreName,'Nama genre pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "b8f09288-f3a0-43cb-9064-cbd2c9ceba9b",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when genre deleted",
              "fullTitle": "Genre Test Response should be when genre deleted",
              "timedOut": false,
              "duration": 54,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/genres/${insertedId}`)\n    .set('Accept', 'application/json')\n    .set('token',token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil dihapus')\n        expect(response.body.data.name).to.equal(newGenreName,'Nama genre baru yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "252a56b0-dfa7-4844-8cdb-219b29864f82",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Insert genre for game seed",
              "fullTitle": "Genre Test Insert genre for game seed",
              "timedOut": false,
              "duration": 64,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/genres')\n    .send({name :\"Testing Genre\",slug : \"testing-genre\"})\n    .set('Accept', 'application/json')\n    .set('token',token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil ditambahkan')\n        insertedId = response.body.data.id\n        global.seed_genre = insertedId;\n        expect(response.body.data.name).to.equal(\"Testing Genre\",'Nama genre yang diberikan pada resposne tidak sesuai')\n        expect(response.body.data.slug).to.equal(\"testing-genre\",'Nama genre yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "f9844443-a4fc-4810-812b-16b6e0879359",
              "parentUUID": "d9d1d86d-9da2-4ddb-8ab5-2eab43069c97",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "def26042-2e85-4975-b201-484cb4b52a0e",
            "5ee8ace7-77a7-43dd-b80b-eb16e761724b",
            "c5e0972e-6b73-4c16-8866-2f90447def93",
            "24ad3a22-9e0e-4ddb-85b5-7e7a7a794191",
            "b8f09288-f3a0-43cb-9064-cbd2c9ceba9b",
            "252a56b0-dfa7-4844-8cdb-219b29864f82",
            "f9844443-a4fc-4810-812b-16b6e0879359"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 3126,
          "root": false,
          "rootEmpty": false,
          "_timeout": 8000
        },
        {
          "uuid": "17121ca3-ae84-4efe-ae69-22a3fee4a3bd",
          "title": "Game Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\game_test.js",
          "file": "\\tests\\game_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Game Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "description= 'Monster Hunter: World is an action role-playing game';\ntoken = global.tokenAdmin;\ngenre = [global.seed_genre];\ngameName=  \"Monster Hunter: World\";\nslug = \"monster-hunter-world\"",
              "err": {},
              "uuid": "cf478f34-15cc-4f3d-8dcb-f76f9159ef78",
              "parentUUID": "17121ca3-ae84-4efe-ae69-22a3fee4a3bd",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Response should be when game inserted",
              "fullTitle": "Game Test Response should be when game inserted",
              "timedOut": false,
              "duration": 232,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/games')\n    .send({name :gameName , description : description, genre: genre,slug : slug})\n    .set('Accept', 'application/json')\n    .set('Token',token)\n    .expect('Content-Type', /json/)\n    // .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        insertedId= response.body.data.id;\n        global.seed_id_game = insertedId;\n        expect(response.body.message).to.equal('Game berhasil ditambahkan','Response message tidak sesuai');\n        expect(response.body.data.description).to.equal(description,'Description yang diberikan pada response tidak sesuai')\n        expect(response.body.data.genre.length).to.equal(genre.length,'Genre yang diberikan pada resposne tidak sesuai');\n        expect(response.body.data.created_by).to.equal(global.userAdmin.id,'token user yang diberikan pada resposne tidak sesuai')\n        expect(response.body.data.slug).to.equal(slug,'Slug pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "2671f180-9d15-4252-8f7e-d6ab0be4fafb",
              "parentUUID": "17121ca3-ae84-4efe-ae69-22a3fee4a3bd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Get game should contain inserted game",
              "fullTitle": "Game Test Get game should contain inserted game",
              "timedOut": false,
              "duration": 16,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/games/${insertedId}`)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(gameName,'Nama pada response tidak sesuai')\n        expect(response.body.data.slug).to.equal(slug,'Slug pada response tidak sesuai')\n      //   expect(response.body.data.developer.name).to.equal(global.userAdmin.name,'Nama developer yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "4fac49b1-f379-4033-b82f-fe6b20e730e3",
              "parentUUID": "17121ca3-ae84-4efe-ae69-22a3fee4a3bd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET all games should contain inserted games",
              "fullTitle": "Game Test GET all games should contain inserted games",
              "timedOut": false,
              "duration": 17,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/games')\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        \n      let data = response.body.data.find((item) => item.id == insertedId);\n      expect(data.name).to.equal(gameName,'Nama pada response tidak sesuai')\n      expect(data.slug).to.equal(slug,'Slug pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "846a202f-69ee-490c-8b0e-9f44f26951eb",
              "parentUUID": "17121ca3-ae84-4efe-ae69-22a3fee4a3bd",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "2671f180-9d15-4252-8f7e-d6ab0be4fafb",
            "4fac49b1-f379-4033-b82f-fe6b20e730e3",
            "846a202f-69ee-490c-8b0e-9f44f26951eb"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 265,
          "root": false,
          "rootEmpty": false,
          "_timeout": 8000
        },
        {
          "uuid": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
          "title": "Users Reviews Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\user_review_test.js",
          "file": "\\tests\\user_review_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Users Reviews Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "id_game =  global.seed_id_game;\ntokenBasic = global.tokenBasic;\nidUserBasic = global.userBasic.id;\nidUserPro = global.userPro.id;\ntokenAdmin = global.tokenAdmin;\nidUserAdmin = global.userAdmin.id;",
              "err": {},
              "uuid": "5a947c7f-28d5-4335-a017-e3df41080c8f",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Response should be when user review inserted",
              "fullTitle": "Users Reviews Test Response should be when user review inserted",
              "timedOut": false,
              "duration": 79,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/reviews')\n    .send({\n        id_game: id_game,\n        id_user: idUserBasic,\n        review: review,\n        review_score: review_score\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        id = parseInt(response.body.data.id)\n        expect(response.body.message).to.equal('Successfuly inserted user review', 'Response message tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "d1c5653a-8851-4d1b-922e-c2cdac4d542f",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a user review",
              "fullTitle": "Users Reviews Test Response should be when get a user review",
              "timedOut": false,
              "duration": 13,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/reviews/${id}`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.id).to.equal(id, 'ID yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "8e4feb2e-97d1-4795-8145-dc1d8abdd309",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get all users reviews",
              "fullTitle": "Users Reviews Test Response should be when get all users reviews",
              "timedOut": false,
              "duration": 20,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/reviews')\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        // if index remains null, this test will fail\n        let index = null\n        for (let i = 0; i < response.body.data.length; i++) {\n            if (response.body.data[i].id === id) {\n                index = i\n            }\n        }\n        expect(response.body.data[index].id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "fe011461-d057-4221-b7e1-3a26634d8db8",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /users/:id_user/reviews Response should be when get all users reviews",
              "fullTitle": "Users Reviews Test GET /users/:id_user/reviews Response should be when get all users reviews",
              "timedOut": false,
              "duration": 20,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}/reviews`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        // if index remains null, this test will fail\n        let index = null\n        for (let i = 0; i < response.body.data.length; i++) {\n            if (response.body.data[i].id === id) {\n                index = i\n            }\n        }\n        expect(response.body.data[index].id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "07ab7260-3b63-4810-a76a-cdbdfe3391ef",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when patch a user review",
              "fullTitle": "Users Reviews Test Response should be when patch a user review",
              "timedOut": false,
              "duration": 66,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/reviews/${id}`)\n    .send({\n        review: review_update,\n        review_score: review_score_update\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('User berhasil diupdate', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "1e29d711-02a5-4018-a4d8-10703802851c",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a user review (after patch user review)",
              "fullTitle": "Users Reviews Test Response should be when get a user review (after patch user review)",
              "timedOut": false,
              "duration": 14,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/reviews/${id}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.id).to.equal(id, 'ID yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review).to.equal(review_update, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review_score).to.equal(review_score_update, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "2cb138f0-d1bc-45f8-8c31-2bb060249dce",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when delete a user review",
              "fullTitle": "Users Reviews Test Response should be when delete a user review",
              "timedOut": false,
              "duration": 59,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/reviews/${id}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('User review berhasil dihapus', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "e5c07436-a9bc-48f7-9c6c-6f2bd28dbe2d",
              "parentUUID": "13c251cb-e9a4-4f42-9229-9785dfb24f88",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "d1c5653a-8851-4d1b-922e-c2cdac4d542f",
            "8e4feb2e-97d1-4795-8145-dc1d8abdd309",
            "fe011461-d057-4221-b7e1-3a26634d8db8",
            "07ab7260-3b63-4810-a76a-cdbdfe3391ef",
            "1e29d711-02a5-4018-a4d8-10703802851c",
            "2cb138f0-d1bc-45f8-8c31-2bb060249dce",
            "e5c07436-a9bc-48f7-9c6c-6f2bd28dbe2d"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 271,
          "root": false,
          "rootEmpty": false,
          "_timeout": 8000
        },
        {
          "uuid": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
          "title": "Users Games Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\user_game_test.js",
          "file": "\\tests\\user_game_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Users Games Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "id_game =  global.seed_id_game;\ntokenBasic = global.tokenBasic;\nidUserBasic = global.userBasic.id;\nidUserPro = global.userPro.id;\ntokenAdmin = global.tokenAdmin;\nidUserAdmin = global.userAdmin.id;",
              "err": {},
              "uuid": "46930b2c-f36b-4d11-8117-ed784007cbe0",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Cannot insert completed time if game not completed",
              "fullTitle": "Users Games Test Cannot insert completed time if game not completed",
              "timedOut": false,
              "duration": 19,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post(`/users/${idUserBasic}/game`)\n    .send({\n        id_game: id_game,\n        id_user: idUserBasic,\n        tipe : 1,\n        completed_time :\"1\"\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.BAD_REQUEST)\n    .end(done);",
              "err": {},
              "uuid": "e811add9-366a-4e20-86c6-d41f1ebe9ed1",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Basic User can insert user game",
              "fullTitle": "Users Games Test Basic User can insert user game",
              "timedOut": false,
              "duration": 59,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post(`/users/${idUserBasic}/game`)\n    .send({\n        id_game: id_game,\n        tipe : 2,\n        completed_time :\"1\"\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly inserted user game', 'Response message tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.complete_time).to.equal(\"00:00:01\",\"Completed Time tidak sesuai\")\n        expect(response.body.data.tipe).to.equal(2,\"Tipe tidak sesuai\")\n    })\n    .end(done);",
              "err": {},
              "uuid": "865fb133-78d3-400d-8ea2-09a02210a990",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Admin can insert other user game",
              "fullTitle": "Users Games Test Admin can insert other user game",
              "timedOut": false,
              "duration": 52,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post(`/users/${idUserPro}/game`)\n    .send({\n        id_game: id_game,\n        tipe : 2,\n        completed_time :\"1\"\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly inserted user game', 'Response message tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserPro, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.complete_time).to.equal(\"00:00:01\",\"Completed Time tidak sesuai\")\n        expect(response.body.data.tipe).to.equal(2,\"Tipe tidak sesuai\")\n    })\n    .end(done);",
              "err": {},
              "uuid": "b2ed0236-1160-4d61-846f-ff24a2028754",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET all user games should contain inserted",
              "fullTitle": "Users Games Test GET all user games should contain inserted",
              "timedOut": false,
              "duration": 19,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}/game`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data.id_game).to.equal(id_game,'ID game sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "3e6571fd-0913-447b-b26a-e3602d7a08ec",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Basic User can edit user game",
              "fullTitle": "Users Games Test Basic User can edit user game",
              "timedOut": false,
              "duration": 64,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/users/${idUserBasic}/game/${id_game}`)\n    .send({\n        tipe : 3,\n        completed_time :\"12:12:12\"\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .end(done);",
              "err": {},
              "uuid": "dd328897-d35a-4021-a4ea-30b17f22f5eb",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET all user games data should be updated",
              "fullTitle": "Users Games Test GET all user games data should be updated",
              "timedOut": false,
              "duration": 16,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}/game`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data.id_game).to.equal(id_game,'ID game sesuai')\n      expect(data.tipe).to.equal(3,'Tipe tidak sesuai dengan yang diupdate')\n      expect(data.complete_time).to.equal(\"12:12:12\",'Complete time tidak sesuai dengan yang di update')\n    })\n    .end(done);",
              "err": {},
              "uuid": "a1202444-986f-43ec-a7fb-0d812d6d6a3b",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET all user games by game_id data should be updated",
              "fullTitle": "Users Games Test GET all user games by game_id data should be updated",
              "timedOut": false,
              "duration": 14,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/game/${id_game}`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_user == idUserBasic);\n      expect(data.id_game).to.equal(id_game,'ID game sesuai')\n      expect(data.tipe).to.equal(3,'Tipe tidak sesuai dengan yang diupdate')\n      expect(data.complete_time).to.equal(\"12:12:12\",'Complete time tidak sesuai dengan yang di update')\n    })\n    .end(done);",
              "err": {},
              "uuid": "f709e6c3-7123-4a88-9bab-42fe3a21df96",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Basic User can delete game",
              "fullTitle": "Users Games Test Basic User can delete game",
              "timedOut": false,
              "duration": 76,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/users/${idUserBasic}/game/${id_game}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly deleted user game', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "0c97da77-3bd8-42c8-a60a-217e7fc8171d",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "User game should be deleted",
              "fullTitle": "Users Games Test User game should be deleted",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}/game`)\n    .set('token', tokenAdmin)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data).to.equal(undefined,'Data masih terdapat pada database')\n    })\n    .end(done);",
              "err": {},
              "uuid": "219cb806-1e76-4a30-a49a-18c28d67c3f6",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Admin can delete other user game",
              "fullTitle": "Users Games Test Admin can delete other user game",
              "timedOut": false,
              "duration": 75,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/users/${idUserPro}/game/${id_game}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly deleted user game', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "4d346af5-c36a-499b-98bd-e141346386d4",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "User game should be deleted",
              "fullTitle": "Users Games Test User game should be deleted",
              "timedOut": false,
              "duration": 91,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserPro}/game`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data).to.equal(undefined,'Data masih terdapat pada database')\n    })\n    .end(done);",
              "err": {},
              "uuid": "554620c5-8b6f-47a1-93ad-f821fada7fd5",
              "parentUUID": "7b7f6bc7-26b0-4cb2-b9ea-ebff9bbf8fc5",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "e811add9-366a-4e20-86c6-d41f1ebe9ed1",
            "865fb133-78d3-400d-8ea2-09a02210a990",
            "b2ed0236-1160-4d61-846f-ff24a2028754",
            "3e6571fd-0913-447b-b26a-e3602d7a08ec",
            "dd328897-d35a-4021-a4ea-30b17f22f5eb",
            "a1202444-986f-43ec-a7fb-0d812d6d6a3b",
            "f709e6c3-7123-4a88-9bab-42fe3a21df96",
            "0c97da77-3bd8-42c8-a60a-217e7fc8171d",
            "219cb806-1e76-4a30-a49a-18c28d67c3f6",
            "4d346af5-c36a-499b-98bd-e141346386d4",
            "554620c5-8b6f-47a1-93ad-f821fada7fd5"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 496,
          "root": false,
          "rootEmpty": false,
          "_timeout": 8000
        },
        {
          "uuid": "44e495d0-1143-4e49-a7ef-13f293308cc9",
          "title": "Users CRUD Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\users_test.js",
          "file": "\\tests\\users_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Users CRUD Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "tokenBasic = global.tokenBasic;\nidUserBasic = global.userBasic.id;\nidUserPro = global.userPro.id;\ntokenPro = global.tokenPro;\ntokenAdmin = global.tokenAdmin;\nidUserAdmin = global.userAdmin.id;\neditedName=   \"testing-edit-name\";\neditedGender= 0;",
              "err": {},
              "uuid": "ac50fe0b-daf6-4fe6-a79b-d4a365ed3999",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "/users should return inserted user",
              "fullTitle": "Users CRUD Test /users should return inserted user",
              "timedOut": false,
              "duration": 37,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/users')\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        let data = response.body.data.find((item) => item.id == idUserBasic);\n        expect(data.id).to.equal(idUserBasic,'Tidak terdapat user seeding pada get user')\n    })\n    .end(done);",
              "err": {},
              "uuid": "6baf9e5e-4966-479a-946b-8ea26f3be682",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "/user/:id_user should return get user",
              "fullTitle": "Users CRUD Test /user/:id_user should return get user",
              "timedOut": false,
              "duration": 19,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(global.userBasic.name,'Tidak terdapat user seeding pada get user')\n    })\n    .end(done);",
              "err": {},
              "uuid": "00d344c1-be97-4f09-97ba-5669fa6e4b2d",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "PATCH /user/:id_user Other user cannot edit other user data",
              "fullTitle": "Users CRUD Test PATCH /user/:id_user Other user cannot edit other user data",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/users/${idUserBasic}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenPro)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.FORBIDDEN)\n    .end(done);",
              "err": {},
              "uuid": "c1f53a61-a950-4b80-b1de-aeb05fc91fed",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "PATCH /user/:id_user Other user cannot edit other user data",
              "fullTitle": "Users CRUD Test PATCH /user/:id_user Other user cannot edit other user data",
              "timedOut": false,
              "duration": 91,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/users/${idUserBasic}`)\n    .send({\n        \"name\" : editedName,\n        \"gender\" : editedGender\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('User berhasil diupdate','Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "d65a7555-16b1-46e5-bdf1-c3ff67195d96",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /user/:id_user edited user data should change",
              "fullTitle": "Users CRUD Test GET /user/:id_user edited user data should change",
              "timedOut": false,
              "duration": 8,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(editedName,'Tidak terdapat user seeding pada get user')\n    })\n    .end(done);",
              "err": {},
              "uuid": "b3761ea1-e77f-47f1-94cf-31de195c6477",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "DELETE /user/:id_user Normal user cannot delete",
              "fullTitle": "Users CRUD Test DELETE /user/:id_user Normal user cannot delete",
              "timedOut": false,
              "duration": 15,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/users/${idUserBasic}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.FORBIDDEN)\n    .end(done);",
              "err": {},
              "uuid": "a0c575a5-6205-4046-a22f-a46f9320baa7",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "DELETE /user/:id_user Admin delete basic user",
              "fullTitle": "Users CRUD Test DELETE /user/:id_user Admin delete basic user",
              "timedOut": false,
              "duration": 71,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/users/${idUserBasic}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .end(done);",
              "err": {},
              "uuid": "66f3ff6f-e0a5-4e8d-b95c-8bbf9a906921",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "/user/:id_user deleted user should return 404",
              "fullTitle": "Users CRUD Test /user/:id_user deleted user should return 404",
              "timedOut": false,
              "duration": 16,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/users/${idUserBasic}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.NOT_FOUND)\n    .end(done);",
              "err": {},
              "uuid": "048a2533-46d8-4cfb-a818-6f24d6dc40ba",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "DELETE /user/:id_user Admin delete pro user",
              "fullTitle": "Users CRUD Test DELETE /user/:id_user Admin delete pro user",
              "timedOut": false,
              "duration": 117,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/users/${idUserPro}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .end(done);",
              "err": {},
              "uuid": "78917a8b-384e-4470-942a-dbd62e4e83f2",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "DELETE /user/:id_user Admin delete admin user",
              "fullTitle": "Users CRUD Test DELETE /user/:id_user Admin delete admin user",
              "timedOut": false,
              "duration": 66,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/users/${idUserAdmin}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .end(done);",
              "err": {},
              "uuid": "5401c4e1-c8b4-4bc6-bd64-b658f436549f",
              "parentUUID": "44e495d0-1143-4e49-a7ef-13f293308cc9",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "6baf9e5e-4966-479a-946b-8ea26f3be682",
            "00d344c1-be97-4f09-97ba-5669fa6e4b2d",
            "c1f53a61-a950-4b80-b1de-aeb05fc91fed",
            "d65a7555-16b1-46e5-bdf1-c3ff67195d96",
            "b3761ea1-e77f-47f1-94cf-31de195c6477",
            "a0c575a5-6205-4046-a22f-a46f9320baa7",
            "66f3ff6f-e0a5-4e8d-b95c-8bbf9a906921",
            "048a2533-46d8-4cfb-a818-6f24d6dc40ba",
            "78917a8b-384e-4470-942a-dbd62e4e83f2",
            "5401c4e1-c8b4-4bc6-bd64-b658f436549f"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 452,
          "root": false,
          "rootEmpty": false,
          "_timeout": 8000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 8000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.1.2"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "6.1.1"
    },
    "marge": {
      "options": null,
      "version": "5.1.0"
    }
  }
}