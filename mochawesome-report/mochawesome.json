{
  "stats": {
    "suites": 5,
    "tests": 28,
    "passes": 28,
    "pending": 0,
    "failures": 0,
    "start": "2020-05-25T14:37:23.638Z",
    "end": "2020-05-25T14:37:27.767Z",
    "duration": 4129,
    "testsRegistered": 28,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "5f718594-01df-44d6-b5e2-876d9cfa85cb",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "2456e5e4-0822-4c7a-8398-668464f49895",
          "title": "Testing registration for all user role",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\auth_test.js",
          "file": "\\tests\\auth_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Testing registration for all user role \"before all\" hook",
              "timedOut": false,
              "duration": 967,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "console.log(\"Deleting Seed Data\");\nconst usersBasic = await model.users.destroy({\n    truncate: true, where :  {email : fakeData.user.basic.email}});\nconst usersPro = await model.users.destroy({ \n    truncate: true,where :  {email : fakeData.user.basic.email}});\nconst usersAdmin = await model.users.destroy({ \n    truncate: true,where :  {email : fakeData.user.basic.email}});",
              "err": {},
              "uuid": "dbb6cb8c-9183-4135-a461-0451f45986e7",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Register using basic user with email : basic@gmail.com",
              "fullTitle": "Testing registration for all user role Register using basic user with email : basic@gmail.com",
              "timedOut": false,
              "duration": 233,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.basic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Berhasil melakukan registrasi user','Response message tidak sesuai');\n        expect(response.body.data.email).to.equal( fakeData.user.basic.email,'Email yang diberikan pada response tidak sesuai')\n        expect(response.body.data.tipe).to.equal(fakeData.user.basic.tipe,'Tipe yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "dea16540-5b20-44f0-9e2c-b37b6b9c403a",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Register using basic pro with email : pro@gmail.com",
              "fullTitle": "Testing registration for all user role Register using basic pro with email : pro@gmail.com",
              "timedOut": false,
              "duration": 196,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.pro)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Berhasil melakukan registrasi user','Response message tidak sesuai');\n        expect(response.body.data.email).to.equal( fakeData.user.pro.email,'Email yang diberikan pada response tidak sesuai')\n        expect(response.body.data.tipe).to.equal(fakeData.user.pro.tipe,'Tipe yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "f1be4ef5-9677-4729-a04a-ca8e8f3730c1",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Register using admin user with email : admin@gmail.com",
              "fullTitle": "Testing registration for all user role Register using admin user with email : admin@gmail.com",
              "timedOut": false,
              "duration": 198,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/register')\n    .send(fakeData.user.admin)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Berhasil melakukan registrasi user','Response message tidak sesuai');\n        expect(response.body.data.email).to.equal( fakeData.user.admin.email,'Email yang diberikan pada response tidak sesuai')\n        expect(response.body.data.tipe).to.equal(fakeData.user.admin.tipe,'Tipe yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "e605fd5d-eef1-4046-9779-de8dad400e96",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Basic User can login",
              "fullTitle": "Testing registration for all user role Basic User can login",
              "timedOut": false,
              "duration": 205,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/login')\n    .send({email : fakeData.user.basic.email, password: fakeData.user.basic.password })\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_GET)\n    .expect(response => {\n        expect(response.body.message).to.equal('Success Login','Response message tidak sesuai');\n        var userLogin = jwt.verify(response.body.token, 'soa2018');\n        expect(userLogin.email).to.equal(fakeData.user.basic.email,'Payload email JWT tidak sesuai')\n        global.tokenBasic = response.body.token;\n        global.userBasic = userLogin;\n    })\n    .end(done);",
              "err": {},
              "uuid": "362a421d-91f0-4346-9045-50f2449a978d",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Pro User can login",
              "fullTitle": "Testing registration for all user role Pro User can login",
              "timedOut": false,
              "duration": 191,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/login')\n    .send({email : fakeData.user.pro.email, password: fakeData.user.pro.password })\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_GET)\n    .expect(response => {\n        expect(response.body.message).to.equal('Success Login','Response message tidak sesuai');\n        var userLogin = jwt.verify(response.body.token, 'soa2018');\n        expect(userLogin.email).to.equal(fakeData.user.pro.email,'Payload email JWT tidak sesuai')\n        global.tokenPro = response.body.token;\n        global.userPro = userLogin;\n    })\n    .end(done);",
              "err": {},
              "uuid": "3ecd3c5c-6e91-4f93-b46e-08f29e7dec3f",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Admin User can login",
              "fullTitle": "Testing registration for all user role Admin User can login",
              "timedOut": false,
              "duration": 142,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/login')\n    .send({email : fakeData.user.admin.email, password: fakeData.user.admin.password })\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_GET)\n    .expect(response => {\n        expect(response.body.message).to.equal('Success Login','Response message tidak sesuai');\n        var userLogin = jwt.verify(response.body.token, 'soa2018');\n        expect(userLogin.email).to.equal(fakeData.user.admin.email,'Payload email JWT tidak sesuai')\n        global.tokenAdmin = response.body.token;\n        global.userAdmin = userLogin;\n    })\n    .end(done);",
              "err": {},
              "uuid": "3c388790-1446-4f10-802e-dfe91ffe9e2d",
              "parentUUID": "2456e5e4-0822-4c7a-8398-668464f49895",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "dea16540-5b20-44f0-9e2c-b37b6b9c403a",
            "f1be4ef5-9677-4729-a04a-ca8e8f3730c1",
            "e605fd5d-eef1-4046-9779-de8dad400e96",
            "362a421d-91f0-4346-9045-50f2449a978d",
            "3ecd3c5c-6e91-4f93-b46e-08f29e7dec3f",
            "3c388790-1446-4f10-802e-dfe91ffe9e2d"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1165,
          "root": false,
          "rootEmpty": false,
          "_timeout": 4000
        },
        {
          "uuid": "01a8c078-a36a-408b-8215-1a47ef8fd864",
          "title": "Game Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\game_test.js",
          "file": "\\tests\\game_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Game Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "token = global.tokenAdmin;",
              "err": {},
              "uuid": "cfac7bd7-9768-4208-95d9-dbdc6fecd58f",
              "parentUUID": "01a8c078-a36a-408b-8215-1a47ef8fd864",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Response should be when game inserted",
              "fullTitle": "Game Test Response should be when game inserted",
              "timedOut": false,
              "duration": 86,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/games')\n    .send({name :gameName , description : description, genre: genre})\n    .set('Accept', 'application/json')\n    .set('Token',token)\n    // .expect('Content-Type', /json/)\n    // .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        insertedId= response.body.data.id;\n        global.seed_id_game = insertedId;\n        expect(response.body.message).to.equal('Game berhasil ditambahkan','Response message tidak sesuai');\n        expect(response.body.data.description).to.equal(description,'Description yang diberikan pada response tidak sesuai')\n        expect(response.body.data.genre).to.equal(genre,'Genre yang diberikan pada resposne tidak sesuai');\n        expect(response.body.data.created_by).to.equal(global.userAdmin.id,'token user yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "8424f8c9-7fc8-4206-bd8d-33e6c5aebab6",
              "parentUUID": "01a8c078-a36a-408b-8215-1a47ef8fd864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Get game should contain inserted game",
              "fullTitle": "Game Test Get game should contain inserted game",
              "timedOut": false,
              "duration": 27,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/games/${insertedId}`)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(gameName,'Nama pada response tidak sesuai')\n        expect(response.body.data.developer.name).to.equal(global.userAdmin.name,'Nama developer yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "cfaf1f57-843c-4a3a-aae4-9aa313680261",
              "parentUUID": "01a8c078-a36a-408b-8215-1a47ef8fd864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET all games should contain inserted games",
              "fullTitle": "Game Test GET all games should contain inserted games",
              "timedOut": false,
              "duration": 14,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/games')\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id == insertedId);\n      expect(data.name).to.equal(gameName,'Nama pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "cd0e093b-fd0a-41f7-b2f3-0850a1c5c035",
              "parentUUID": "01a8c078-a36a-408b-8215-1a47ef8fd864",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "8424f8c9-7fc8-4206-bd8d-33e6c5aebab6",
            "cfaf1f57-843c-4a3a-aae4-9aa313680261",
            "cd0e093b-fd0a-41f7-b2f3-0850a1c5c035"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 127,
          "root": false,
          "rootEmpty": false,
          "_timeout": 4000
        },
        {
          "uuid": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
          "title": "Genre Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\genre_test.js",
          "file": "\\tests\\genre_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Genre Test \"before all\" hook",
              "timedOut": false,
              "duration": 1,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "token = global.tokenPro;\nconsole.log(token);",
              "err": {},
              "uuid": "4832774b-91f7-4240-8e16-e1f38bced47e",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Response should be when genre inserted",
              "fullTitle": "Genre Test Response should be when genre inserted",
              "timedOut": false,
              "duration": 172,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/genres')\n    .send({name :genreName})\n    .set('Accept', 'application/json')\n    .set('token',token)\n    // .expect('Content-Type', /json/)\n    // .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil ditambahkan')\n        insertedId = response.body.data.id\n        expect(response.body.data.name).to.equal(genreName,'Nama genre yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "17a48d1a-9903-4f77-bb7b-5e06bf6422ee",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a genre with params",
              "fullTitle": "Genre Test Response should be when get a genre with params",
              "timedOut": false,
              "duration": 109,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/genres')\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id == insertedId);\n      expect(data.name).to.equal(genreName,'Nama pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "619056cc-b960-478c-87cf-7e19bc818d37",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a genre with ID",
              "fullTitle": "Genre Test Response should be when get a genre with ID",
              "timedOut": false,
              "duration": 8,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/genres/${insertedId}`)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(genreName,'Nama genre pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "77475a05-1993-4e57-8c89-fa1b1ab09876",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when genre updated",
              "fullTitle": "Genre Test Response should be when genre updated",
              "timedOut": false,
              "duration": 126,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/genres/${insertedId}`)\n    .send({name :newGenreName})\n    .set('Accept', 'application/json')\n    .set('token',token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil diupdate')\n        expect(response.body.data.name).to.equal(newGenreName,'Nama genre baru yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "12383222-2590-485a-bcb0-e91394edf864",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a genre with ID after updated",
              "fullTitle": "Genre Test Response should be when get a genre with ID after updated",
              "timedOut": false,
              "duration": 6,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/genres/${insertedId}`)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.name).to.equal(newGenreName,'Nama genre pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "16fd9c69-f784-4c4f-a574-eb0372a243d4",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when genre deleted",
              "fullTitle": "Genre Test Response should be when genre deleted",
              "timedOut": false,
              "duration": 163,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/genres/${insertedId}`)\n    .set('Accept', 'application/json')\n    .set('token',token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Genre berhasil dihapus')\n        expect(response.body.data.name).to.equal(newGenreName,'Nama genre baru yang diberikan pada resposne tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "574abf6b-26d5-4231-b88e-47b25d4522d0",
              "parentUUID": "65f09647-6d86-4cc8-8e08-d0a2f373daa0",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "17a48d1a-9903-4f77-bb7b-5e06bf6422ee",
            "619056cc-b960-478c-87cf-7e19bc818d37",
            "77475a05-1993-4e57-8c89-fa1b1ab09876",
            "12383222-2590-485a-bcb0-e91394edf864",
            "16fd9c69-f784-4c4f-a574-eb0372a243d4",
            "574abf6b-26d5-4231-b88e-47b25d4522d0"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 584,
          "root": false,
          "rootEmpty": false,
          "_timeout": 4000
        },
        {
          "uuid": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
          "title": "Users Reviews Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\user_review_test.js",
          "file": "\\tests\\user_review_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Users Reviews Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "id_game =  global.seed_id_game;\ntoken = global.tokenBasic;",
              "err": {},
              "uuid": "5f4fc29c-1639-4bff-b239-fce5d5865a98",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Response should be when user review inserted",
              "fullTitle": "Users Reviews Test Response should be when user review inserted",
              "timedOut": false,
              "duration": 200,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post('/reviews')\n    .send({\n        id_game: id_game,\n        id_user: id_user,\n        review: review,\n        review_score: review_score\n    })\n    .set('Accept', 'application/json')\n    .set('token', token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        id = parseInt(response.body.data.id)\n        expect(response.body.message).to.equal('Successfuly inserted user review', 'Response message tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(id_user, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "18ba352e-ced3-401e-b4b4-7d7c4161fd22",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a user review",
              "fullTitle": "Users Reviews Test Response should be when get a user review",
              "timedOut": false,
              "duration": 16,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/reviews/${id}`)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.id).to.equal(id, 'ID yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(id_user, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "c149bdde-48f4-49eb-a938-7e5eaab0620d",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get all users reviews",
              "fullTitle": "Users Reviews Test Response should be when get all users reviews",
              "timedOut": false,
              "duration": 10,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get('/reviews')\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        // if index remains null, this test will fail\n        let index = null\n        for (let i = 0; i < response.body.data.length; i++) {\n            if (response.body.data[i].id === id) {\n                index = i\n            }\n        }\n        expect(response.body.data[index].id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].id_user).to.equal(id_user, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].review).to.equal(review, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data[index].review_score).to.equal(review_score, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "d1be0e6a-456b-46d6-ab17-0286e694b881",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when patch a user review",
              "fullTitle": "Users Reviews Test Response should be when patch a user review",
              "timedOut": false,
              "duration": 97,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .patch(`/reviews/${id}`)\n    .send({\n        review: review_update,\n        review_score: review_score_update\n    })\n    .set('Accept', 'application/json')\n    .set('token', token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('User berhasil diupdate', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "16ede2ea-43f9-4151-ae8f-d447537b220c",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when get a user review (after patch user review)",
              "fullTitle": "Users Reviews Test Response should be when get a user review (after patch user review)",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/reviews/${id}`)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.data.id).to.equal(id, 'ID yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(id_user, 'ID User yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review).to.equal(review_update, 'Review yang diberikan pada response tidak sesuai')\n        expect(response.body.data.review_score).to.equal(review_score_update, 'Review Score yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "8a54b888-6fb4-451f-838f-616399f6ab7d",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Response should be when delete a user review",
              "fullTitle": "Users Reviews Test Response should be when delete a user review",
              "timedOut": false,
              "duration": 96,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/reviews/${id}`)\n    .set('Accept', 'application/json')\n    .set('token', token)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('User review berhasil dihapus', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "cff07b0c-0c61-4c24-9591-4946559c3412",
              "parentUUID": "e461ce1d-72a1-4835-87d9-ea5d46fef3cd",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "18ba352e-ced3-401e-b4b4-7d7c4161fd22",
            "c149bdde-48f4-49eb-a938-7e5eaab0620d",
            "d1be0e6a-456b-46d6-ab17-0286e694b881",
            "16ede2ea-43f9-4151-ae8f-d447537b220c",
            "8a54b888-6fb4-451f-838f-616399f6ab7d",
            "cff07b0c-0c61-4c24-9591-4946559c3412"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 430,
          "root": false,
          "rootEmpty": false,
          "_timeout": 4000
        },
        {
          "uuid": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
          "title": "Users Reviews Test",
          "fullFile": "D:\\nodejs-game-restful-api\\tests\\user_game_test.js",
          "file": "\\tests\\user_game_test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook",
              "fullTitle": "Users Reviews Test \"before all\" hook",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "id_game =  global.seed_id_game;\ntokenBasic = global.tokenBasic;\nidUserBasic = global.userBasic.id;\nidUserPro = global.userPro.id;\ntokenAdmin = global.tokenAdmin;\nidUserAdmin = global.userAdmin.id;",
              "err": {},
              "uuid": "cc222196-7d05-4fd2-a6c5-66720ca07203",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Basic User can insert user game",
              "fullTitle": "Users Reviews Test Basic User can insert user game",
              "timedOut": false,
              "duration": 328,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post(`/user/${idUserBasic}/game`)\n    .send({\n        id_game: id_game,\n        id_user: idUserBasic,\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly inserted user game', 'Response message tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserBasic, 'ID User yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "28e2550f-32fe-406f-8e20-f79b00506538",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Admin can insert other user game",
              "fullTitle": "Users Reviews Test Admin can insert other user game",
              "timedOut": false,
              "duration": 126,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .post(`/user/${idUserPro}/game`)\n    .send({\n        id_game: id_game,\n        id_user: idUserPro,\n    })\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.SUCCESS_INSERT)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly inserted user game', 'Response message tidak sesuai')\n        expect(response.body.data.id_game).to.equal(id_game, 'ID Game yang diberikan pada response tidak sesuai')\n        expect(response.body.data.id_user).to.equal(idUserPro, 'ID User yang diberikan pada response tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "dfed1060-3d22-465c-a27b-9eff3eacf1a0",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET all user games should contain inserted",
              "fullTitle": "Users Reviews Test GET all user games should contain inserted",
              "timedOut": false,
              "duration": 16,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/user/${idUserBasic}/game`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data.id_game).to.equal(id_game,'ID game sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "50a68a4f-5280-4c52-90c1-84f97acd11c6",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Basic User can delete game",
              "fullTitle": "Users Reviews Test Basic User can delete game",
              "timedOut": false,
              "duration": 126,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/user/${idUserBasic}/game/${id_game}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenBasic)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly deleted user game', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "f2657fc5-a77e-4d79-8fed-59e9c30f76db",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "User game should be deleted",
              "fullTitle": "Users Reviews Test User game should be deleted",
              "timedOut": false,
              "duration": 19,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/user/${idUserBasic}/game`)\n    .set('token', tokenAdmin)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data).to.equal(undefined,'Data masih terdapat pada database')\n    })\n    .end(done);",
              "err": {},
              "uuid": "fdac6047-1ae6-4507-9159-58578156d390",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Admin can delete other user game",
              "fullTitle": "Users Reviews Test Admin can delete other user game",
              "timedOut": false,
              "duration": 86,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .delete(`/user/${idUserPro}/game/${id_game}`)\n    .set('Accept', 'application/json')\n    .set('token', tokenAdmin)\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n        expect(response.body.message).to.equal('Successfuly deleted user game', 'Response message tidak sesuai')\n    })\n    .end(done);",
              "err": {},
              "uuid": "7a827778-83bd-4dd0-9acd-a5c0022af222",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "User game should be deleted",
              "fullTitle": "Users Reviews Test User game should be deleted",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "request(app)\n    .get(`/user/${idUserPro}/game`)\n    .set('token', tokenBasic)\n    .set('Accept', 'application/json')\n    .expect('Content-Type', /json/)\n    .expect(responseCode.OK)\n    .expect(response => {\n      let data = response.body.data.find((item) => item.id_game == id_game);\n      expect(data).to.equal(undefined,'Data masih terdapat pada database')\n    })\n    .end(done);",
              "err": {},
              "uuid": "da23f399-0562-4926-ba69-e43295b80ea1",
              "parentUUID": "a83ad871-f109-4cf7-9713-f312cc54ff7d",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "28e2550f-32fe-406f-8e20-f79b00506538",
            "dfed1060-3d22-465c-a27b-9eff3eacf1a0",
            "50a68a4f-5280-4c52-90c1-84f97acd11c6",
            "f2657fc5-a77e-4d79-8fed-59e9c30f76db",
            "fdac6047-1ae6-4507-9159-58578156d390",
            "7a827778-83bd-4dd0-9acd-a5c0022af222",
            "da23f399-0562-4926-ba69-e43295b80ea1"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 713,
          "root": false,
          "rootEmpty": false,
          "_timeout": 4000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 4000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.1.2"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "6.1.1"
    },
    "marge": {
      "options": null,
      "version": "5.1.0"
    }
  }
}